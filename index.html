<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Marcus — Hardware Portfolio</title>

<!--
  Single-file portfolio:
  - dark theme
  - language switch (EN / RU)
  - top: photo + short description
  - 20 projects (one per row). Each project has images that cycle on click.
  - minimal, no external libs, fast on weak devices
-->

<style>
  /* ---------- Base & variables (keep colors soft/pleasant) ---------- */
  :root{
    --bg:#0d1116;
    --card:#0f1720;
    --muted:#9aa6b2;
    --accent:#7aa2ff;
    --glass: rgba(255,255,255,0.03);
    --radius:12px;
    --gap:18px;
    --max-width:1000px;
    --shadow: 0 6px 18px rgba(2,6,23,0.6);
    --font-sans: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  /* Basic resets */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:var(--font-sans);
    background:linear-gradient(180deg,var(--bg),#071018 120%);
    color:#e6eef6;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.45;
    padding:32px 18px;
    display:flex;
    justify-content:center;
  }

  /* Page container */
  .wrap{
    width:100%;
    max-width:var(--max-width);
  }

  /* Header: photo + name + description */
  header{
    display:flex;
    gap:20px;
    align-items:center;
    background:var(--glass);
    border-radius:var(--radius);
    padding:16px;
    box-shadow:var(--shadow);
    margin-bottom:22px;
  }
  .avatar{
    width:200px;
    height:200px;
    flex:0 0 200px;
    border-radius:12px;
    overflow:hidden;
    background:linear-gradient(135deg,#0a1522 0%, #112432 100%);
    display:grid;
    place-items:center;
    border:1px solid rgba(255,255,255,0.03);
  }
  .avatar img{width:100%;height:100%;object-fit:cover;display:block}
  .head-info{
    flex:1;
    min-width:0;
  }
  .name-row{
    display:flex;
    align-items:center;
    gap:12px;
    justify-content:space-between;
  }
  h1{
    font-size:1.05rem;
    margin:0;
    font-weight:600;
    color:#f6fbff;
  }
  .desc{
    margin-top:6px;
    color:var(--muted);
    font-size:0.95rem;
  }

  /* controls (lang button + social links) */
  .controls{
    display:flex;
    gap:10px;
    align-items:center;
    margin-left:12px;
  }
  .btn{
    background:transparent;
    border:1px solid rgba(255,255,255,0.06);
    color:var(--muted);
    padding:8px 10px;
    border-radius:10px;
    cursor:pointer;
    font-size:0.92rem;
    backdrop-filter: blur(4px);
  }
  .btn:hover{color:var(--accent);border-color:rgba(122,162,255,0.22)}

  .socials{display:flex;gap:8px}
  .socials a{color:var(--muted);text-decoration:none;font-size:0.9rem;padding:6px 8px;border-radius:8px}
  .socials a:hover{color:var(--accent)}

  /* Projects list */
  .projects{display:flex;flex-direction:column;gap:var(--gap)}
  .project{
    display:flex;
    gap:16px;
    align-items:center;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:12px;
    padding:12px;
    border:1px solid rgba(255,255,255,0.03);
  }

.proj-media{
  flex:0 0 600px; /* раньше было 220px */
  max-width:800px;
  height:400px;   /* раньше 130px */
  border-radius:10px;
  overflow:hidden;
  background:#08131a;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  user-select:none;
}
  .proj-media img{
    width:100%;
    height:100%;
    object-fit:contain; 
    display:block;
  }
  .proj-media .hint{
    position:absolute;
    bottom:8px;
    right:8px;
    font-size:0.78rem;
    color:rgba(230,238,246,0.9);
    background:rgba(0,0,0,0.25);
    padding:4px 8px;
    border-radius:8px;
    backdrop-filter: blur(2px);
  }

  .proj-body{flex:1;min-width:0}
  .proj-title{font-weight:600;margin:0 0 6px 0}
  .proj-desc{margin:0;color:var(--muted);font-size:0.95rem}

  /* footer small note */
  footer{color:var(--muted);font-size:0.88rem;margin-top:18px;text-align:center;padding:12px}

  /* Responsive adjustments */
  @media (max-width:720px){
    header{flex-direction:column;align-items:flex-start}
    .name-row{width:100%;align-items:flex-start}
    .controls{margin-left:0;margin-top:8px}
    .project{flex-direction:column;align-items:stretch}
    .proj-media{width:100%;height:190px;max-width:100%}
  }
</style>
</head>
<body>
  <div class="wrap">
    <!-- Header -->
<header>
  <div class="avatar" aria-hidden="true">
    <img src="img/CHZ_0.JPG" alt="Photo of Marcus" onerror="this.style.filter='grayscale(40%) contrast(80%)'; this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22960%22 height=%22960%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%230d1220%22/><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-size=%2240%22 fill=%22%2388a0c7%22 font-family=%22Arial%22>photo.jpg</text></svg>'">
  </div>

  <div class="head-info">
    <div class="name-row">
      <div>
        <h1 data-i18n="title_en">Marcus — Full-Stack Hardware Engineer</h1>
        <div class="desc" data-i18n="intro_en">
          I'm a Full-Stack Hardware Engineer with over a decade of experience bringing electronic products from a simple idea to mass production. My passion is designing sophisticated, high-speed multilayer boards, ensuring they play nicely with electromagnetic compatibility (EMC). Here, you'll find a mix of my open-source passion projects and commercial work, all brought to life with tools like Cadence Allegro and Altium Designer.
        </div>
      </div>

      <div class="controls" role="toolbar" aria-label="Controls">
        <button id="langBtn" class="btn" title="Switch language">EN</button>
        <div class="socials" aria-hidden="false">
          <!-- Email -->
          <a href="mailto:MarcusX777@proton.me" target="_blank" rel="noopener" title="Email">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 4h16v16H4z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
          </a>
          <!-- LinkedIn -->
          <a href="https://www.linkedin.com/in/aydark/" target="_blank" rel="noopener" title="LinkedIn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-4 0v7h-4v-7a6 6 0 0 1 6-6z"></path>
              <rect x="2" y="9" width="4" height="12"></rect>
              <circle cx="4" cy="4" r="2"></circle>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</header>

    <!-- Projects container -->
    <main class="projects" id="projects">
      <!-- Template repeated 20 times with unique keys -->
      <!-- Example for project 1 -->
      <article class="project" data-images="img/proj1-1.webp,img/proj1-2.webp,img/proj1-3.webp,img/proj1-4.webp,img/proj1-5.webp" data-key-title="p1_title" data-key-desc="p1_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="img/proj1-1.webp" alt="Project 1 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p1_title">ELRS transmitter</h3>
          <p class="proj-desc" data-i18n="p1_desc">Built an ELRS transmitter for a racing FPV drone — 500 mW output power with no cooling fan required. Works flawlessly in real conditions.</p>
        </div>
      </article>

      <!-- Generate remaining projects (2..20) with placeholders -->
      <!-- Project 2 -->
      <article class="project" data-images="img/proj2-1.webp,img/proj2-2.webp,img/proj2-3.webp,img/proj2-4.webp,img/proj2-5.webp" data-key-title="p2_title" data-key-desc="p2_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj2-1.webp" alt="Project 2 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p2_title">Control panel</h3>
          <p class="proj-desc" data-i18n="p2_desc">Developed a control panel for an industrial frequency inverter. It features galvanically isolated power and CAN signal, non-volatile memory for saving and transferring all settings, a color display, and LED load indication..</p>
        </div>
      </article>

      <!-- Project 3 -->
      <article class="project" data-images="img/proj3-1.webp,img/proj3-2.webp,img/proj3-3.webp,img/proj3-4.webp,img/proj3-5.webp,img/proj3-6.webp" data-key-title="p3_title" data-key-desc="p3_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj3-1.webp" alt="Project 3 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p3_title">Set for open-source electric car</h3>
          <p class="proj-desc" data-i18n="p3_desc">Together with my team, we developed a complete set of electronics for what might be the world’s first open-source electric car.
 My role: circuit design of a large universal control board with multiple inputs and high-power outputs, plus PCB layout for all boards in the system.
We’re now working on the second version and full documentation, which will be released on GitHub. The goal is to create a simple EV that anyone can assemble in their own garage from readily available parts — and drive it on public roads.</p>
        </div>
      </article>

      <!-- Project 4 -->
      <article class="project" data-images="img/proj4-1.webp,img/proj4-2.webp,img/proj4-3.webp,img/proj4-4.webp,img/proj4-5.webp,img/proj4-6.webp,img/proj4-7.webp" data-key-title="p4_title" data-key-desc="p4_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj4-1.webp" alt="Project 4 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p4_title">EMC-hardened motor drive</h3>
          <p class="proj-desc" data-i18n="p4_desc">Commercial motor controller optimized for EMI, with snubbers and PCB layout techniques to minimize emissions.</p>
        </div>
      </article>

      <!-- Project 5 -->
      <article class="project" data-images="img/proj5-1.webp,img/proj5-2.webp,img/proj5-3.webp,img/proj5-4.webp,img/proj5-5.webp" data-key-title="p5_title" data-key-desc="p5_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj5-1.webp" alt="Project 5 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p5_title">RF front-end module</h3>
          <p class="proj-desc" data-i18n="p5_desc">Custom RF front-end with filters and LNA, tuned for operation in crowded ISM bands.</p>
        </div>
      </article>

      <!-- Project 6 -->
      <article class="project" data-images="img/proj6-1.webp,img/proj6-2.webp,img/proj6-3.webp,img/proj6-4.webp,img/proj6-5.webp" data-key-title="p6_title" data-key-desc="p6_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj6-1.webp" alt="Project 6 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p6_title">Automotive CAN interface</h3>
          <p class="proj-desc" data-i18n="p6_desc">Ruggedized CAN interface with isolation, for vehicle telemetry and diagnostics.</p>
        </div>
      </article>

      <!-- Project 7 -->
      <article class="project" data-images="img/proj7-1.webp,img/proj7-2.webp,img/proj7-3.webp,img/proj7-4.webp" data-key-title="p7_title" data-key-desc="p7_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj7-1.webp" alt="Project 7 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p7_title">Battery management system</h3>
          <p class="proj-desc" data-i18n="p7_desc">Smart BMS with cell balancing, SOC estimation, and safe charging algorithms for Li-ion packs.</p>
        </div>
      </article>

      <!-- Project 8 -->
      <article class="project" data-images="img/proj8-1.webp,img/proj8-2.webp,img/proj8-3.webp,img/proj8-4.webp,img/proj8-5.webp,img/proj8-6.webp,img/proj8-7.webp" data-key-title="p8_title" data-key-desc="p8_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj8-1.webp" alt="Project 8 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p8_title">Industrial HMI panel</h3>
          <p class="proj-desc" data-i18n="p8_desc">Touch HMI with robust UI and persistent settings storage for industrial automation equipment.</p>
        </div>
      </article>

      <!-- Project 9 -->
      <article class="project" data-images="img/proj9-1.webp" data-key-title="p9_title" data-key-desc="p9_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj9-1.webp" alt="Project 9 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p9_title">FPGA evaluation board</h3>
          <p class="proj-desc" data-i18n="p9_desc">Evaluation board for digital signal processing and prototyping of custom IP cores.</p>
        </div>
      </article>

      <!-- Project 10 -->
      <article class="project" data-images="img/proj10-1.webp,img/proj10-2.webp,img/proj10-3.webp" data-key-title="p10_title" data-key-desc="p10_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj10-1.webp" alt="Project 10 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p10_title">Power supply reference design</h3>
          <p class="proj-desc" data-i18n="p10_desc">Modular PSU with high efficiency and thermal management for rack systems.</p>
        </div>
      </article>

      <!-- Project 11 -->
      <article class="project" data-images="img/proj11-1.webp,img/proj11-2.webp,img/proj11-3.webp,img/proj11-4.webp,img/proj11-5.webp" data-key-title="p11_title" data-key-desc="p11_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj11-1.webp" alt="Project 11 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p11_title">USB-C PD power sink</h3>
          <p class="proj-desc" data-i18n="p11_desc">Compact implementation of USB Power Delivery sink for fast-charging devices.</p>
        </div>
      </article>

      <!-- Project 12 -->
      <article class="project" data-images="img/proj12-1.webp,img/proj12-2.webp,img/proj12-3.webp,img/proj12-4.webp" data-key-title="p12_title" data-key-desc="p12_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj12-1.webp" alt="Project 12 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p12_title">IoT environmental sensor</h3>
          <p class="proj-desc" data-i18n="p12_desc">Weatherproof sensor node for agriculture telemetry with long-life battery operation.</p>
        </div>
      </article>

      <!-- Project 13 -->
      <article class="project" data-images="img/proj13-1.webp,img/proj13-2.webp,img/proj13-3.webp,img/proj13-4.webp" data-key-title="p13_title" data-key-desc="p13_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj13-1.webp" alt="Project 13 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p13_title">Sensor fusion board</h3>
          <p class="proj-desc" data-i18n="p13_desc">Combines IMU, magnetometer and GPS for precise positioning and orientation tasks.</p>
        </div>
      </article>

      <!-- Project 14 -->
      <article class="project" data-images="proj14-1.jpg" data-key-title="p14_title" data-key-desc="p14_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj14-1.jpg" alt="Project 14 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p14_title">Wireless charging coil</h3>
          <p class="proj-desc" data-i18n="p14_desc">Prototype of Qi-compatible wireless power transmitter with tuned coils and shielding.</p>
        </div>
      </article>

      <!-- Project 15 -->
      <article class="project" data-images="proj15-1.jpg" data-key-title="p15_title" data-key-desc="p15_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj15-1.jpg" alt="Project 15 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p15_title">Low-noise audio preamp</h3>
          <p class="proj-desc" data-i18n="p15_desc">Analog preamplifier with ultra-low noise floor for audio measurement equipment.</p>
        </div>
      </article>

      <!-- Project 16 -->
      <article class="project" data-images="proj16-1.jpg" data-key-title="p16_title" data-key-desc="p16_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj16-1.jpg" alt="Project 16 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p16_title">Test fixture & jig</h3>
          <p class="proj-desc" data-i18n="p16_desc">Custom test fixture for automated functional testing in production environments.</p>
        </div>
      </article>

      <!-- Project 17 -->
      <article class="project" data-images="proj17-1.jpg" data-key-title="p17_title" data-key-desc="p17_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj17-1.jpg" alt="Project 17 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p17_title">Firmware OTA platform</h3>
          <p class="proj-desc" data-i18n="p17_desc">Secure OTA system for remote firmware updates with rollback and verification features.</p>
        </div>
      </article>

      <!-- Project 18 -->
      <article class="project" data-images="proj18-1.jpg" data-key-title="p18_title" data-key-desc="p18_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj18-1.jpg" alt="Project 18 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p18_title">Custom connector design</h3>
          <p class="proj-desc" data-i18n="p18_desc">Mechanical and electrical design of a board-to-board connector with locking mechanism.</p>
        </div>
      </article>

      <!-- Project 19 -->
      <article class="project" data-images="proj19-1.jpg" data-key-title="p19_title" data-key-desc="p19_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj19-1.jpg" alt="Project 19 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p19_title">Thermal simulation case study</h3>
          <p class="proj-desc" data-i18n="p19_desc">Thermal analysis and PCB modifications to improve heat dissipation in dense assemblies.</p>
        </div>
      </article>

      <!-- Project 20 -->
      <article class="project" data-images="proj20-1.jpg" data-key-title="p20_title" data-key-desc="p20_desc">
        <div class="proj-media" tabindex="0" role="button" aria-pressed="false" title="Click to change image">
          <img src="proj20-1.jpg" alt="Project 20 image">
          <div class="hint" data-i18n="img_hint">click image</div>
        </div>
        <div class="proj-body">
          <h3 class="proj-title" data-i18n="p20_title">Manufacturing documentation</h3>
          <p class="proj-desc" data-i18n="p20_desc">Complete set of fab files, pick-and-place, and BOM optimizations for cost-effective production.</p>
        </div>
      </article>
    </main>

    <footer>
      <div data-i18n="footer_note">Made with care — replace placeholders with your images and links.</div>
    </footer>
  </div>

<script>
/* ----------------------
   Minimal JS: i18n and image cycling
   - translations object contains English and Russian texts
   - each element with data-i18n attribute will be replaced
   - projects: each .project has data-images (comma list), clicking .proj-media cycles images
   ---------------------- */

(function(){
  // TRANSLATIONS: keys used in HTML data-i18n or data-key-title/data-key-desc
  // Keep translations short and clear (add/change as needed)
  const T = {
    en: {
      title_en: "Marcus — Full-Stack Hardware Engineer",
      intro_en: "Engineer with 10+ years of experience developing electronic products from concept to mass production. I specialize in high-speed multilayer PCB design and EMC-compliant hardware that works reliably in real-world conditions. My work covers the full development cycle: schematic design, complex PCB routing, prototyping, debugging, production support, and documentation. I enjoy solving challenging engineering problems and turning complex ideas into robust, manufacturable hardware. Here you’ll find a selection of open-source and commercial projects, ranging from embedded systems to industrial and automotive electronics, developed using tools such as Cadence Allegro and Altium Designer.",
      img_hint: "click image",
      footer_note: "The site is still under construction, I am gradually adding projects",
      // project titles and descriptions (20)
      p1_title: "ELRS Transmitter for Drones",
      p1_desc: "Custom 500 mW ELRS transmitter based on ESP32; I designed the schematic, PCB, and production documentation; a high-efficiency power converter enabled passive cooling at maximum output power; supports firmware flashing via USB Type-C and features Wi-Fi antenna with a web interface for configuration and updates.",
      p2_title: "Industrial VFD Control Panel",
      p2_desc: "Control panel for industrial variable frequency drives installed in electrical cabinets for large motors; a functional alternative to Siemens, ABB, and EKF panels with an improved menu structure, high-quality display, and circular LED status indication; based on STM32 with a two-layer PCB; I developed the schematic, PCB, firmware, and documentation; the key feature is large onboard memory allowing storage and transfer of up to 3,000 parameters and settings.",
      p3_title: "Complete Electronics Set for an Open-Source Electric Vehicle",
      p3_desc: "Development of a complete set of electronic control boards for an open-source electric vehicle designed for independent assembly; this is the second hardware revision; the system follows automotive-grade requirements including standardized PCB and connector formats; all vehicle modules are interconnected using only four wires—power and CAN bus—instead of traditional wiring harnesses; the vehicle has been certified for public road use, and patent work is currently in progress.",
      p4_title: "Blower Door System for Building Energy Audits",
      p4_desc: "A blower door device used to accurately identify heat leakage, cold air vortices, thermal bridges, and other building envelope defects leading to energy losses and increased heating costs; I conducted research, developed the measurement principles, custom electronics, tablet hardware with software and graphical interface, enclosure, and protective case; also designed a fan control unit with PID regulation and variable speed control; the device was prepared for mass production and is successfully manufactured.",
      p5_title: "Touch-Control Panel for Liquid Dispensing Systemse",
      p5_desc: "Third-generation touch control panel for liquid dispensing systems; early versions combined sensors, microcontroller, and power switches on a single board, while the latest revision is split into two boards: a dedicated capacitive touch panel with a specialized sensor controller and a main control board with power drivers, power supply, flow and presence sensors, and a SIM800 module for telemetry and remote monitoring.",
      p6_title: "FPV Drone Radio Controller",
      p6_desc: "Custom radio transmitter for FPV racing and freestyle drones focused on compact size, high control precision, and minimal signal latency; consists of seven PCBs including display, buttons, encoders, and Hall-effect sensors; the main STM32-based board is a six-layer design optimized for high-speed interfaces and EMI protection; features custom firmware based on OpenTX, backlit buttons, audio feedback, vibration motor, fast charging, and comprehensive status indication; gimbals use bearing-mounted sticks with 3D Hall sensors for precise position tracking.",
      p7_title: "Internet-Controlled Stepper Motor Driver Board",
      p7_desc: "Stepper motor control board with Ethernet (RJ45) interface for remote control of actuators over local or global networks; suitable for operating ventilation dampers, doors, and other mechanisms requiring precise positioning and reliable operation; designed for stable performance in industrial environments.",
      p8_title: "Ultra-Thin Custom Wristwatch",
      p8_desc: "Developed my own ultra-thin wristwatch; the current prototype is 3 mm thick, with plans to reduce thickness by approximately half; features a 0.6-inch OLED display and an STM32L432 microcontroller for maximum energy efficiency; functions include always-on display, time, date, and stopwatch; the enclosure and PCB form a single structural unit; power consumption is approximately 2 mA with the display on and around 100 nA in sleep mode; through a combination of low-power modes and reduced core and SPI frequencies, the watch can operate for over one year on a single battery; initially implemented on ESP32-C3 and later migrated to STM32 due to superior energy efficiency; all development stages were completed by me.",
      p9_title: "Medical Thermography Device for Lower Limbs",
      p9_desc: "A medical device for thermographic imaging of lower limbs developed to research early-stage thrombosis detection methods; operates from an internal battery and includes a web interface for viewing temperature maps and generating reports.",
      p10_title: "Warehouse Pick-Up Point Indicator Modules",
      p10_desc: "Indicator modules installed in warehouse pick-up points to speed up order fulfillment; up to 100 modules communicate with each other via CAN bus and connect to a router via Wi-Fi for integration with warehouse management systems; when an order is scanned, the corresponding module lights up and displays the item position, allowing staff to quickly locate and confirm item retrieval; I developed the system logic, schematic, PCB, and firmware.",
      p11_title: "Programmable Car Seat Heating Controller",
      p11_desc: "Programmable seat heating controller with three power levels regulated via PWM; supports automatic activation during engine warm-up and smooth power reduction with configurable timing; designed for domestic automotive applications, connects to factory wiring harnesses, and extends standard functionality; supports 12 V and 24 V systems, handles power loads up to 1000 W, provides mode indication, and retains settings even when power is removed.",
      p12_title: "3D Printer Enclosure Heater",
      p12_desc: "Enclosure heating system for 3D printers with 100 W power output, powered directly from 220 V AC to avoid loading the printer power supply; includes a display for configuring minimum and maximum temperatures, hysteresis, timers, and a real-time clock.",
      p13_title: "Induction Heating Tool for Soldering",
      p13_desc: "Portable induction heating tool in a pistol form factor for soldering copper pipes and wires; capable of heating metals up to 1000°C using contactless induction; features a trigger-operated system with automatic solder wire feeding driven by a stepper motor, adjustable power and feed speed, on-screen mode indication, and a solder retraction mechanism to prevent drips; I developed the prototype, electronics, firmware, and enclosure.",
      p14_title: "Wireless charging coil",
      p14_desc: "Prototype of Qi-compatible wireless power transmitter with tuned coils and shielding.",
      p15_title: "Low-noise audio preamp",
      p15_desc: "Analog preamplifier with ultra-low noise floor for audio measurement equipment.",
      p16_title: "Test fixture & jig",
      p16_desc: "Custom test fixture for automated functional testing in production environments.",
      p17_title: "Firmware OTA platform",
      p17_desc: "Secure OTA system for remote firmware updates with rollback and verification features.",
      p18_title: "Custom connector design",
      p18_desc: "Mechanical and electrical design of a board-to-board connector with locking mechanism.",
      p19_title: "Thermal simulation case study",
      p19_desc: "Thermal analysis and PCB modifications to improve heat dissipation in dense assemblies.",
      p20_title: "Manufacturing documentation",
      p20_desc: "Complete set of fab files, pick-and-place, and BOM optimizations for cost-effective production."
    },
    ru: {
      title_en: "Айдар — Инженер-электронщик",
      intro_en: "Более 10 лет разработки электронных устройств — от идеи до серийного производства. Специализируюсь на проектировании высокоскоростных многослойных печатных плат и создании аппаратуры с соблюдением требований ЭМС, стабильно работающей в реальных условиях. Моя работа охватывает полный цикл разработки: схемотехнику, сложную трассировку печатных плат, прототипирование, отладку, сопровождение производства и подготовку документации. Мне интересно решать сложные инженерные задачи и превращать идеи в надёжные, технологичные изделия. Здесь представлены мои open-source и коммерческие проекты — от встраиваемых систем до промышленной и автомобильной электроники, разработанные с использованием Cadence Allegro и Altium Designer.",
      img_hint: "нажмите на изображение",
      footer_note: "Сайт пока в работе, постепенно добавляю проекты",
      p1_title: "Передатчик ELRS для дронов",
      p1_desc: "Разработал свой передатчик мощностью 500мВт на базе ESP32. Мной разработать схема, плата, документация для серийного производства. Высокое КПД преобразователя питание, позволил добиться пассивного охлаждения при максимальной мощности. Есть возможность прошивки по Type-C, а также антенна Wi-Fi и Web интерфейс для настройки и прошивки.",
      p2_title: "Панель управления для частотного преобразователя",
      p2_desc: "Панель управления для промышленных частотных преобразователей, устанавливаемая в шкафы управления электродвигателями. Является функциональным аналогом панелей Siemens, ABB и EKF, но с более гибким меню, качественным дисплеем и круговой световой индикацией состояния. Устройство выполнено на STM32, плата двухслойная. Мной разработаны схема, печатная плата, прошивка и документация. Ключевая особенность — большой объём памяти: панель может считывать, хранить и переносить до 3000 параметров и настроек между преобразователями, что существенно упрощает обслуживание и настройку оборудования.",
      p3_title: "Полный комплект плат для open-source электромобиля",
      p3_desc: "Участвую в разработке open-source электромобиля, который можно собрать самостоятельно. Моя зона ответственности — разработка полного комплекта электронных плат для всех систем автомобиля. Сейчас ведётся работа уже над второй версией электроники. Проект разрабатывается с учётом требований автомобильной промышленности: стандартизация размеров плат и разъёмов, повышенная надёжность и отказоустойчивость. Все электронные модули соединены между собой всего четырьмя проводами — питание и CAN-шина, вместо традиционных жгутов проводки.Автомобиль прошёл сертификацию и допущен к эксплуатации на дорогах общего пользования. В данный момент ведётся работа над патентами.",
      p4_title: "Аэродверь — устройство для энергоаудита зданий",
      p4_desc: "Аэродверь используется для точного определения утечек тепла в зданиях: выявления мостиков холода, вихревых потоков воздуха и других дефектов ограждающих конструкций, приводящих к потерям энергии и увеличению затрат на отопление. Мной проведены исследования и разработан принцип измерений. Полностью разработано устройство: собственная электроника, планшет с ПО и графическим интерфейсом, корпус и защитный чехол. Также разработан блок управления вентилятором с PID-регулированием и изменяемой частотой сигнала. Подготовлена документация для серийного производства, устройство запущено в серию и успешно производится. https://aerodver.ru/",
      p5_title: "Панель для сенсорного управления наливом жидкости",
      p5_desc: "Разработал третью версию сенсорной панели на Atmega 328. Первые две версии были единой панелью с сенсорами, микроконтроллером и силовыми ключами. Последняя версия разделена на 2 платы, сенсорную панель со специальным чипом управляющим сенсорами, и второй основной платой с силовыми ключами, системой питания, различными датчиками расхода и наличия жидкости, модулем SIM800 для телеметрии.",
      p6_title: "Аппаратура для гоночных FPV дронов",
      p6_desc: "Разработал пульт управления дронами для гонок или фристайла. Основная особенность — это компактность, точность управления и минимальные задержки сигнала. Состоит из 7 плат, с экраном, кнопками, энкодерами, датчиками холла. Основная плата с STM32 имеет 6 слоев для быстрых интерфейсов и защиты от ЭМИ. Прошивка собственная на базе OpenTX. Есть подсветка кнопок, звук, небольшой дисплей, вибромотор, быстрая зарядка и различная индикация состояний. Стики на подшипниках, передача положения фиксируются 3D датчиком холла.",
      p7_title: "Управление шаговыми двигателями через интернет",
      p7_desc: "Плата управления шаговыми двигателями с сетевым интерфейсом Ethernet (RJ45) для удалённого управления исполнительными механизмами по локальной или глобальной сети. Позволяет управлять вентиляционными заслонками, дверями и другими механизмами, требующими точного позиционирования и надёжной работы. Мной разработаны схема и печатная плата, предусмотрена работа в промышленной среде.",
      p8_title: "Сверхтонкие наручные часы",
      p8_desc: "Разработал собственные сверхтонкие наручные часы. Текущий прототип имеет толщину 3 мм, в дальнейшем планируется уменьшение толщины примерно вдвое. Используется OLED-дисплей 0.6 дюйма, микроконтроллер STM32L432 для максимальной энергоэффективности. Функции: Always on, часы, дата, секундомер. Корпус и печатная плата являются единым конструктивом.Потребление — около 2 мА при включённом дисплее и порядка 100 нА в режиме сна. За счёт комбинации режимов энергосбережения, снижения частоты ядра и SPI устройство способно работать более года от одной батарейки. Изначально проект был реализован на ESP32-C3, но затем перенесён на STM32 из-за лучшей энергоэффективности. Все этапы разработки выполнены мной самостоятельно.",
      p9_title: "Медицинский прибор для раннего выявления тромбов",
      p9_desc: "Медицинское устройство для проведения термографии нижних конечностей, предназначенное для исследования методики раннего выявления тромбов. Прибор работает от встроенного аккумулятора и оснащён web-интерфейсом для просмотра температурных карт и формирования отчётов. Мной разработана электроника устройства и программная часть. Проект использовался в исследовательских целях для проверки новой диагностической методики.",
      p10_title: "Модули индикации для склада",
      p10_desc: "Устанавливаются в пунктах выдачи заказов, ускоряют выдачу товара. Устанавливаются на стеллажах, до 100 модулей общаются между собой по CAN. Есть Wi-Fi для подключения к роутеру и интеграция со складским приложением. При сканировании заказа клиента, нужный модуль светится и сообщает номер позиции. Сотрудник визуально видит, где лежит товар и его номер. Забирает нужный и нажимает кнопку на модуле сообщая базе данных что товар забран. Мной разработана логика работы, схема, плата и ПО.",
      p11_title: "Программируемый подогрев сидений",
      p11_desc: "Имеет 3 режима мощности, регулирует по ШИМ. Имеет автоматический запуск подогрева во время прогрева авто. А также плавное убавление мощности подогрева с программируемым временем. Сделан для отечественного автопрома, вставляется в штатные разъемы и расширяет функционал. Имеет силовые ключи до 1000 Ватт, индикацию режимов, 12/24 вольта, хранит настройки даже при отсутствии питания.",
      p12_title: "Подогрев камеры 3D принтера",
      p12_desc: "Мощность 100 ватт, питается от сети 220 вольт и не нагружает блок питания принтера. Имеет дисплей с настройкой минимальной максимальной температуры, гистерезиса, таймеры, часы реального времени.",
      p13_title: "Индукционный нагреватель для пайки медных труб и проводов",
      p13_desc: "Портативный нагреватель в форме пистолета. Способен нагревать металлы до 1000 градусов бесконтактно за счет индукции. Реализован курок и автоматическая подача припоя. Имеет экран с индикацией режимов, настройки мощности и скорости подачи припоя. Припой подается очень точно с помощью шагового двигателя. Реализована система обратного всасывание при отпускании курка, чтобы не оставлять капли припоя. Мною разработан прототип устройства, схема, плата, ПО, корпус.",
      p14_title: "Катушка беспроводной зарядки",
      p14_desc: "Прототип передатчика мощности Qi с настроенными катушками и экранованием.",
      p15_title: "Низкошумный аудио предусилитель",
      p15_desc: "Аналоговый предусилитель с очень низким уровнем шума для измерительной аппаратуры.",
      p16_title: "Фиксатор для тестирования",
      p16_desc: "Пользовательский тестовый джиг для автоматизированных функциональных тестов в производстве.",
      p17_title: "Платформа OTA для прошивок",
      p17_desc: "Безопасная OTA-система с откатом и проверкой целостности для удалённых обновлений.",
      p18_title: "Кастомный разъём",
      p18_desc: "Механическая и электрическая разработка межплатного разъёма с фиксацией.",
      p19_title: "Тепловая симуляция",
      p19_desc: "Анализ теплопередачи и изменения PCB для улучшения рассеивания тепла в плотных сборках.",
      p20_title: "Документация для производства",
      p20_desc: "Полный набор fab-файлов, pick-and-place и оптимизация BOM для экономичного производства."
    }
  };

  // --- i18n: apply translations to elements with data-i18n attributes ---
  let currentLang = 'en'; // default
  const applyTranslations = (lang) => {
    currentLang = lang;
    // generic keys: find elements with data-i18n
    document.querySelectorAll('[data-i18n]').forEach(el=>{
      const key = el.getAttribute('data-i18n');
      if(!key) return;
      // prefer exact key in chosen lang; fallback to English key if missing
      const text = (T[lang] && T[lang][key]) || (T['en'] && T['en'][key]) || el.textContent;
      el.textContent = text;
    });

    // Project titles/descriptions: some elements use data-key-title / data-key-desc
    document.querySelectorAll('.project').forEach(pr=>{
      const keyTitle = pr.getAttribute('data-key-title');
      const keyDesc  = pr.getAttribute('data-key-desc');
      if(keyTitle){
        const el = pr.querySelector('.proj-title');
        if(el) el.textContent = (T[lang][keyTitle] || T['en'][keyTitle] || el.textContent);
      }
      if(keyDesc){
        const el2 = pr.querySelector('.proj-desc');
        if(el2) el2.textContent = (T[lang][keyDesc] || T['en'][keyDesc] || el2.textContent);
      }
    });

    // update lang button label
    const lb = document.getElementById('langBtn');
    if(lb) lb.textContent = (lang === 'en') ? 'RU' : 'EN';
  };

  // initial apply
  applyTranslations(currentLang);

  // language button toggles
  const langBtn = document.getElementById('langBtn');
  langBtn.addEventListener('click', ()=>{
    const next = (currentLang === 'en') ? 'ru' : 'en';
    applyTranslations(next);
  });

  // --- Image cycling logic ---
  // Each .project has data-images = "img1.jpg,img2.jpg,..."
  document.querySelectorAll('.project').forEach(proj=>{
    const media = proj.querySelector('.proj-media');
    const img = proj.querySelector('img');
    if(!media || !img) return;

    // parse images list (trim spaces)
    const images = (proj.dataset.images || '').split(',').map(s=>s.trim()).filter(Boolean);
    let idx = 0;

    // function to set current image src (with basic fallback if missing)
    const setImage = (i) => {
      if(images.length === 0) return;
      idx = ((i % images.length) + images.length) % images.length;
      img.src = images[idx];
      img.alt = proj.querySelector('.proj-title')?.textContent + ' image ' + (idx+1);
      // aria-pressed for accessibility (visual not changing, but semantic)
      media.setAttribute('aria-pressed', 'false');
    };

    // click or Enter/Space to advance
    const advance = () => {
      setImage(idx + 1);
    };
    media.addEventListener('click', advance);
    media.addEventListener('keydown', (ev)=>{
      if(ev.key === 'Enter' || ev.key === ' '){
        ev.preventDefault();
        advance();
      }
    });

    // initial set (in case first file is missing — browser will try)
    setImage(0);
  });

  // optional: improve perceived speed on slow devices by deferring heavy tasks
  // here we don't load extra libs — keep it tiny.

})();
</script>
</body>
</html>
